<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="LaughingRook">
<meta name="dcterms.date" content="2022-06-07">

<title>LaughingRook - Average State Tuition Fees in the USA from 2004 to 2015</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">LaughingRook</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary-notes" id="toc-summary-notes" class="nav-link active" data-scroll-target="#summary-notes">Summary notes</a></li>
  <li><a href="#dependencies" id="toc-dependencies" class="nav-link" data-scroll-target="#dependencies">Dependencies</a></li>
  <li><a href="#constants" id="toc-constants" class="nav-link" data-scroll-target="#constants">Constants</a></li>
  <li><a href="#main" id="toc-main" class="nav-link" data-scroll-target="#main">Main</a>
  <ul class="collapse">
  <li><a href="#load-the-data" id="toc-load-the-data" class="nav-link" data-scroll-target="#load-the-data">Load the data</a></li>
  <li><a href="#prepare-the-data" id="toc-prepare-the-data" class="nav-link" data-scroll-target="#prepare-the-data">Prepare the data</a></li>
  <li><a href="#visualise-the-data" id="toc-visualise-the-data" class="nav-link" data-scroll-target="#visualise-the-data">Visualise the data</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Average State Tuition Fees in the USA from 2004 to 2015</h1>
  <div class="quarto-categories">
    <div class="quarto-category">TidyTuesday</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>LaughingRook </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 7, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="summary-notes" class="level2">
<h2 class="anchored" data-anchor-id="summary-notes">Summary notes</h2>
<p>This was the initial <strong>#TidyTuesday</strong> project, posted back on April 2nd, 2018. Here’s the motivating tweet from <a href="https://twitter.com/thomas_mock"><span class="citation" data-cites="Thomas_Mock">@Thomas_Mock</span></a>:</p>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
This week we will be exploring average US tuition costs! <br><br>The dataset is pre-cleaned but not fully tidy, so do your best to tidy it up and make an interesting (but quick!) plot! <br><br>The full rules, data, and more will always be at <a href="https://t.co/8NaXR93uIX">https://t.co/8NaXR93uIX</a>
</p>
— Tom Mock ❤️ Quarto (<span class="citation" data-cites="thomas_mock">@thomas_mock</span>) <a href="https://twitter.com/thomas_mock/status/980921605407768577?ref_src=twsrc%5Etfw">April 2, 2018</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Source data was taken from <a href="http://trends.collegeboard.org">http://trends.collegeboard.org</a>. Further data on the US states was taken from the <a href="https://www.ansi.org/">American National Standards Institute</a> (ANSI). The ANSI data was used to bring in the state ID<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and the state abbreviations.</p>
<p>The tuition fee data was tidy, but there were some irritating formatting errors in the column titles. These were cleaned up in the tidying pipeline with the help of several functions. The ANSI data also needed some minor cleaning of the column titles so they were in snake case. We did this with a dictionary that mapped the title case to snake cases.</p>
<p>We rescaled the percentage change data so that it was consistent with the example plot.</p>
<p>Two visualisations were produced: The first is a <strong>chloropleth heatmap</strong> of the percentage change in fees from 2010 to 2015; and the second is a <strong>simple horiziontal bar chart</strong> of the cost of tuition in 2015.</p>
</section>
<section id="dependencies" class="level2">
<h2 class="anchored" data-anchor-id="dependencies">Dependencies</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> vega_datasets <span class="im">import</span> data <span class="im">as</span> vdata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="constants" class="level2">
<h2 class="anchored" data-anchor-id="constants">Constants</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>FEE_URL <span class="op">=</span> (<span class="st">'https://github.com/rfordatascience/tidytuesday/blob/master/'</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>           <span class="op">+</span> <span class="st">'data/2018/2018-04-02/us_avg_tuition.xlsx?raw=true'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ANSI_URL <span class="op">=</span> <span class="st">'https://www2.census.gov/geo/docs/reference/state.txt'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="main" class="level2">
<h2 class="anchored" data-anchor-id="main">Main</h2>
<section id="load-the-data" class="level3">
<h3 class="anchored" data-anchor-id="load-the-data">Load the data</h3>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fee <span class="op">=</span> pd.read_excel(FEE_URL)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>fee.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 50 entries, 0 to 49
Data columns (total 13 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   State       50 non-null     object 
 1   2004-05     50 non-null     float64
 2   2005-06     50 non-null     float64
 3   2006-07     50 non-null     float64
 4     2007-08   50 non-null     float64
 5   2008-09     50 non-null     float64
 6   2009-10     50 non-null     float64
 7   2010-11     50 non-null     float64
 8   2011-12     50 non-null     float64
 9   2012-13     50 non-null     float64
 10  2013-14     50 non-null     float64
 11  2014-15     50 non-null     float64
 12  2015-16     50 non-null     float64
dtypes: float64(12), object(1)
memory usage: 5.2+ KB</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ansi <span class="op">=</span> pd.read_csv(ANSI_URL, sep<span class="op">=</span><span class="st">'|'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>ansi.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 57 entries, 0 to 56
Data columns (total 4 columns):
 #   Column      Non-Null Count  Dtype 
---  ------      --------------  ----- 
 0   STATE       57 non-null     int64 
 1   STUSAB      57 non-null     object
 2   STATE_NAME  57 non-null     object
 3   STATENS     57 non-null     int64 
dtypes: int64(2), object(2)
memory usage: 1.9+ KB</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> alt.topo_feature(vdata.us_10m.url, <span class="st">'states'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="prepare-the-data" class="level3">
<h3 class="anchored" data-anchor-id="prepare-the-data">Prepare the data</h3>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>v_fee <span class="op">=</span> fee.melt(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span><span class="st">'State'</span>, var_name<span class="op">=</span><span class="st">'year'</span>, value_name<span class="op">=</span><span class="st">'fee'</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>).rename(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{<span class="st">'State'</span>: <span class="st">'state_name'</span>}</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>v_fee[<span class="st">'year'</span>] <span class="op">=</span> v_fee[<span class="st">'year'</span>].<span class="bu">str</span>[:<span class="op">-</span><span class="dv">3</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>v_fee[<span class="st">'year'</span>] <span class="op">=</span> v_fee[<span class="st">'year'</span>].<span class="bu">str</span>.strip()</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>v_fee.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 600 entries, 0 to 599
Data columns (total 3 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   state_name  600 non-null    object 
 1   year        600 non-null    object 
 2   fee         600 non-null    float64
dtypes: float64(1), object(2)
memory usage: 14.2+ KB</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>v_ansi <span class="op">=</span> ansi.rename(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'STATE'</span>: <span class="st">'id'</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'STUSAB'</span>: <span class="st">'state_abbr'</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'STATE_NAME'</span>: <span class="st">'state_name'</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>v_ansi.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 57 entries, 0 to 56
Data columns (total 4 columns):
 #   Column      Non-Null Count  Dtype 
---  ------      --------------  ----- 
 0   id          57 non-null     int64 
 1   state_abbr  57 non-null     object
 2   state_name  57 non-null     object
 3   STATENS     57 non-null     int64 
dtypes: int64(2), object(2)
memory usage: 1.9+ KB</code></pre>
</div>
</div>
</section>
<section id="visualise-the-data" class="level3">
<h3 class="anchored" data-anchor-id="visualise-the-data">Visualise the data</h3>
<p>Percentage Change in State Average Annual Tuition Fees (2010-2015)</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>_gsource <span class="op">=</span> (</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    v_fee.query(<span class="st">"year in ['2010', '2015']"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">'state_name'</span>)[<span class="st">'fee'</span>]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    .pct_change()</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    .dropna()</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    .set_axis(v_fee[<span class="st">'state_name'</span>].drop_duplicates())</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    .rename(<span class="st">'diff (%)'</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    .mul(<span class="dv">100</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    .astype(<span class="st">'int'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    .to_frame()</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    .merge(v_ansi, on<span class="op">=</span><span class="st">'state_name'</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>alt.Chart(_gsource).mark_geoshape(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    stroke<span class="op">=</span><span class="st">'black'</span>  <span class="co"># add state borders</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>).encode(</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    shape<span class="op">=</span><span class="st">'geo:G'</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">"diff (%)"</span>, scale<span class="op">=</span>alt.Scale(scheme<span class="op">=</span><span class="st">"blues"</span>)),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'state_abbr'</span>, <span class="st">'diff (%)'</span>]</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>).transform_lookup(</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    lookup<span class="op">=</span><span class="st">'id'</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    from_<span class="op">=</span>alt.LookupData(data<span class="op">=</span>states, key<span class="op">=</span><span class="st">'id'</span>),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    as_<span class="op">=</span><span class="st">'geo'</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>).project(</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">type</span><span class="op">=</span><span class="st">'albersUsa'</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>(<span class="st">'Percentage Change in State Average Annual Tuition Fees'</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>           <span class="op">+</span> <span class="st">' (2010-2015)'</span>),</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">600</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>).configure_title(</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    fontSize<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    anchor<span class="op">=</span><span class="st">'start'</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">

<div id="altair-viz-23e3470cfafd47cebeb443b80bf1a3a3"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-23e3470cfafd47cebeb443b80bf1a3a3") {
      outputDiv = document.getElementById("altair-viz-23e3470cfafd47cebeb443b80bf1a3a3");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "title": {"anchor": "start", "fontSize": 16}}, "data": {"name": "data-16d5ae4c73b87292c4544484eb16f286"}, "mark": {"type": "geoshape", "stroke": "black"}, "encoding": {"color": {"field": "diff (%)", "scale": {"scheme": "blues"}, "type": "quantitative"}, "shape": {"field": "geo", "type": "geojson"}, "tooltip": [{"field": "state_abbr", "type": "nominal"}, {"field": "diff (%)", "type": "quantitative"}]}, "height": 600, "projection": {"type": "albersUsa"}, "title": "Percentage Change in State Average Annual Tuition Fees (2010-2015)", "transform": [{"lookup": "id", "as": "geo", "from": {"data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "key": "id"}}], "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-16d5ae4c73b87292c4544484eb16f286": [{"state_name": "Alabama", "diff (%)": 20, "id": 1, "state_abbr": "AL", "STATENS": 1779775}, {"state_name": "Alaska", "diff (%)": 14, "id": 2, "state_abbr": "AK", "STATENS": 1785533}, {"state_name": "Arizona", "diff (%)": 20, "id": 4, "state_abbr": "AZ", "STATENS": 1779777}, {"state_name": "Arkansas", "diff (%)": 14, "id": 5, "state_abbr": "AR", "STATENS": 68085}, {"state_name": "California", "diff (%)": 13, "id": 6, "state_abbr": "CA", "STATENS": 1779778}, {"state_name": "Colorado", "diff (%)": 25, "id": 8, "state_abbr": "CO", "STATENS": 1779779}, {"state_name": "Connecticut", "diff (%)": 15, "id": 9, "state_abbr": "CT", "STATENS": 1779780}, {"state_name": "Delaware", "diff (%)": 10, "id": 10, "state_abbr": "DE", "STATENS": 1779781}, {"state_name": "Florida", "diff (%)": 15, "id": 12, "state_abbr": "FL", "STATENS": 294478}, {"state_name": "Georgia", "diff (%)": 31, "id": 13, "state_abbr": "GA", "STATENS": 1705317}, {"state_name": "Hawaii", "diff (%)": 24, "id": 15, "state_abbr": "HI", "STATENS": 1779782}, {"state_name": "Idaho", "diff (%)": 16, "id": 16, "state_abbr": "ID", "STATENS": 1779783}, {"state_name": "Illinois", "diff (%)": 9, "id": 17, "state_abbr": "IL", "STATENS": 1779784}, {"state_name": "Indiana", "diff (%)": 4, "id": 18, "state_abbr": "IN", "STATENS": 448508}, {"state_name": "Iowa", "diff (%)": 0, "id": 19, "state_abbr": "IA", "STATENS": 1779785}, {"state_name": "Kansas", "diff (%)": 17, "id": 20, "state_abbr": "KS", "STATENS": 481813}, {"state_name": "Kentucky", "diff (%)": 16, "id": 21, "state_abbr": "KY", "STATENS": 1779786}, {"state_name": "Louisiana", "diff (%)": 51, "id": 22, "state_abbr": "LA", "STATENS": 1629543}, {"state_name": "Maine", "diff (%)": -2, "id": 23, "state_abbr": "ME", "STATENS": 1779787}, {"state_name": "Maryland", "diff (%)": 8, "id": 24, "state_abbr": "MD", "STATENS": 1714934}, {"state_name": "Massachusetts", "diff (%)": 11, "id": 25, "state_abbr": "MA", "STATENS": 606926}, {"state_name": "Michigan", "diff (%)": 8, "id": 26, "state_abbr": "MI", "STATENS": 1779789}, {"state_name": "Minnesota", "diff (%)": 5, "id": 27, "state_abbr": "MN", "STATENS": 662849}, {"state_name": "Mississippi", "diff (%)": 23, "id": 28, "state_abbr": "MS", "STATENS": 1779790}, {"state_name": "Missouri", "diff (%)": 7, "id": 29, "state_abbr": "MO", "STATENS": 1779791}, {"state_name": "Montana", "diff (%)": 3, "id": 30, "state_abbr": "MT", "STATENS": 767982}, {"state_name": "Nebraska", "diff (%)": 5, "id": 31, "state_abbr": "NE", "STATENS": 1779792}, {"state_name": "Nevada", "diff (%)": 14, "id": 32, "state_abbr": "NV", "STATENS": 1779793}, {"state_name": "New Hampshire", "diff (%)": 15, "id": 33, "state_abbr": "NH", "STATENS": 1779794}, {"state_name": "New Jersey", "diff (%)": 4, "id": 34, "state_abbr": "NJ", "STATENS": 1779795}, {"state_name": "New Mexico", "diff (%)": 13, "id": 35, "state_abbr": "NM", "STATENS": 897535}, {"state_name": "New York", "diff (%)": 20, "id": 36, "state_abbr": "NY", "STATENS": 1779796}, {"state_name": "North Carolina", "diff (%)": 19, "id": 37, "state_abbr": "NC", "STATENS": 1027616}, {"state_name": "North Dakota", "diff (%)": 6, "id": 38, "state_abbr": "ND", "STATENS": 1779797}, {"state_name": "Ohio", "diff (%)": 2, "id": 39, "state_abbr": "OH", "STATENS": 1085497}, {"state_name": "Oklahoma", "diff (%)": 18, "id": 40, "state_abbr": "OK", "STATENS": 1102857}, {"state_name": "Oregon", "diff (%)": 15, "id": 41, "state_abbr": "OR", "STATENS": 1155107}, {"state_name": "Pennsylvania", "diff (%)": 7, "id": 42, "state_abbr": "PA", "STATENS": 1779798}, {"state_name": "Rhode Island", "diff (%)": 11, "id": 44, "state_abbr": "RI", "STATENS": 1219835}, {"state_name": "South Carolina", "diff (%)": 7, "id": 45, "state_abbr": "SC", "STATENS": 1779799}, {"state_name": "South Dakota", "diff (%)": 16, "id": 46, "state_abbr": "SD", "STATENS": 1785534}, {"state_name": "Tennessee", "diff (%)": 29, "id": 47, "state_abbr": "TN", "STATENS": 1325873}, {"state_name": "Texas", "diff (%)": 7, "id": 48, "state_abbr": "TX", "STATENS": 1779801}, {"state_name": "Utah", "diff (%)": 18, "id": 49, "state_abbr": "UT", "STATENS": 1455989}, {"state_name": "Vermont", "diff (%)": 9, "id": 50, "state_abbr": "VT", "STATENS": 1779802}, {"state_name": "Virginia", "diff (%)": 22, "id": 51, "state_abbr": "VA", "STATENS": 1779803}, {"state_name": "Washington", "diff (%)": 14, "id": 53, "state_abbr": "WA", "STATENS": 1779804}, {"state_name": "West Virginia", "diff (%)": 25, "id": 54, "state_abbr": "WV", "STATENS": 1779805}, {"state_name": "Wisconsin", "diff (%)": 4, "id": 55, "state_abbr": "WI", "STATENS": 1779806}, {"state_name": "Wyoming", "diff (%)": 13, "id": 56, "state_abbr": "WY", "STATENS": 1779807}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p>Average State Tuition Fee in the USA in 2015.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>_gsource <span class="op">=</span> v_fee.query(<span class="st">"year == '2015'"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>alt.Chart(_gsource).mark_bar().encode(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'fee'</span>, title<span class="op">=</span><span class="st">'fee (USD)'</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'state_name'</span>, title<span class="op">=</span><span class="st">'state'</span>, sort<span class="op">=</span><span class="st">'-x'</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>(<span class="st">'Average State Tuition Fee in the USA in 2015'</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">800</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>).configure_title(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    fontSize<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    anchor<span class="op">=</span><span class="st">'start'</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

<div id="altair-viz-71215ad6f8334eed9609fd0e9f9037fa"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-71215ad6f8334eed9609fd0e9f9037fa") {
      outputDiv = document.getElementById("altair-viz-71215ad6f8334eed9609fd0e9f9037fa");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "title": {"anchor": "start", "fontSize": 16}}, "data": {"name": "data-023c9b4cff1194e18cb576d43c556e4a"}, "mark": "bar", "encoding": {"x": {"field": "fee", "title": "fee (USD)", "type": "quantitative"}, "y": {"field": "state_name", "sort": "-x", "title": "state", "type": "nominal"}}, "height": 800, "title": "Average State Tuition Fee in the USA in 2015", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-023c9b4cff1194e18cb576d43c556e4a": [{"state_name": "Alabama", "year": "2015", "fee": 9751.101349251952}, {"state_name": "Alaska", "year": "2015", "fee": 6571.340316948697}, {"state_name": "Arizona", "year": "2015", "fee": 10646.278351749399}, {"state_name": "Arkansas", "year": "2015", "fee": 7867.29673593428}, {"state_name": "California", "year": "2015", "fee": 9269.844227224636}, {"state_name": "Colorado", "year": "2015", "fee": 9748.187715504646}, {"state_name": "Connecticut", "year": "2015", "fee": 11397.336553140489}, {"state_name": "Delaware", "year": "2015", "fee": 11676.215597471757}, {"state_name": "Florida", "year": "2015", "fee": 6360.159309231394}, {"state_name": "Georgia", "year": "2015", "fee": 8446.961426315582}, {"state_name": "Hawaii", "year": "2015", "fee": 10174.733720305641}, {"state_name": "Idaho", "year": "2015", "fee": 6818.470343746806}, {"state_name": "Illinois", "year": "2015", "fee": 13189.100826230002}, {"state_name": "Indiana", "year": "2015", "fee": 9119.648545884287}, {"state_name": "Iowa", "year": "2015", "fee": 7877.344019168941}, {"state_name": "Kansas", "year": "2015", "fee": 8530.493830784435}, {"state_name": "Kentucky", "year": "2015", "fee": 9566.67257334121}, {"state_name": "Louisiana", "year": "2015", "fee": 7870.959722650475}, {"state_name": "Maine", "year": "2015", "fee": 9572.968444568556}, {"state_name": "Maryland", "year": "2015", "fee": 9163.29158226419}, {"state_name": "Massachusetts", "year": "2015", "fee": 11588.125344457978}, {"state_name": "Michigan", "year": "2015", "fee": 11990.52822403027}, {"state_name": "Minnesota", "year": "2015", "fee": 10831.360471619942}, {"state_name": "Mississippi", "year": "2015", "fee": 7147.2712342461355}, {"state_name": "Missouri", "year": "2015", "fee": 8564.109743438288}, {"state_name": "Montana", "year": "2015", "fee": 6351.076487252125}, {"state_name": "Nebraska", "year": "2015", "fee": 7607.9658656882075}, {"state_name": "Nevada", "year": "2015", "fee": 6667.235801581596}, {"state_name": "New Hampshire", "year": "2015", "fee": 15159.895264116578}, {"state_name": "New Jersey", "year": "2015", "fee": 13303.419490336193}, {"state_name": "New Mexico", "year": "2015", "fee": 6354.521438963855}, {"state_name": "New York", "year": "2015", "fee": 7643.525099747241}, {"state_name": "North Carolina", "year": "2015", "fee": 6973.066091916937}, {"state_name": "North Dakota", "year": "2015", "fee": 7687.698216924241}, {"state_name": "Ohio", "year": "2015", "fee": 10195.895607219012}, {"state_name": "Oklahoma", "year": "2015", "fee": 7449.698064176078}, {"state_name": "Oregon", "year": "2015", "fee": 9371.346119665925}, {"state_name": "Pennsylvania", "year": "2015", "fee": 13394.777550376328}, {"state_name": "Rhode Island", "year": "2015", "fee": 11390.118397085611}, {"state_name": "South Carolina", "year": "2015", "fee": 11816.025925316488}, {"state_name": "South Dakota", "year": "2015", "fee": 8054.912800263244}, {"state_name": "Tennessee", "year": "2015", "fee": 9263.479110787835}, {"state_name": "Texas", "year": "2015", "fee": 9116.732642680614}, {"state_name": "Utah", "year": "2015", "fee": 6362.682377404262}, {"state_name": "Vermont", "year": "2015", "fee": 14993.026532856751}, {"state_name": "Virginia", "year": "2015", "fee": 11818.692852673435}, {"state_name": "Washington", "year": "2015", "fee": 10288.352635518957}, {"state_name": "West Virginia", "year": "2015", "fee": 7171.450966340447}, {"state_name": "Wisconsin", "year": "2015", "fee": 8815.260667850567}, {"state_name": "Wyoming", "year": "2015", "fee": 4890.999758220503}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1" role="doc-endnote"><p>Used for mapping the data on a chloropleth map.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>